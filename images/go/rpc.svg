<svg xmlns="http://www.w3.org/2000/svg" viewBox="90.333 57.587 3676.014 1414" width="3676.014" height="1414"><defs><marker id="a" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="b" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="c" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="d" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="e" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="f" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="g" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="h" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="i" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="j" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="k" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="l" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="m" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="n" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="o" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="p" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="q" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="r" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="s" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="t" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="u" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="v" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="w" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="x" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="y" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="z" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="A" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="B" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="C" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="D" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="E" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="F" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="G" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="H" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="I" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="J" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="K" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="L" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="M" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="N" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="O" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker><marker id="P" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.236" markerHeight="10.551" viewBox="-1 -1.376 16.236 10.551" refX="-1" refY="3.899"><path d="M12 3.899l-12 3.9V0z" stroke="#323232" stroke-width="2" fill="#323232"/></marker></defs><path d="M90.333 57.587h3676.014v1414H90.333v-1414z" fill="none"/><path d="M111.389 81.587q0-4 4-4h371.889q4 0 4 4v208.51q0 4-4 4h-371.89q-4 0-4-4z" stroke="#323232" stroke-width="2" fill="#fff"/><g fill="none"><path d="M110.333 127.097h379.89" stroke="#000" stroke-width="2"/><path d="M110.333 116.097h379.89v21h-379.89z"/></g><path d="M301.333 294.097v39.62h-1.055v24.384" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#a)"/><path d="M251.333 316.627h100v20h-100z" fill="#fff"/><text font-size="16" y="16.4" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(301.333 316.627)">NewServer()</text><path d="M227.528 377.337q0-4 4-4h137.5q4 0 4 4v34.26q0 4-4 4h-137.5q-4 0-4-4z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="61.75" y="18.45" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(237.528 383.217)">DefaultServer</text><path d="M1736.278 217.597q0-4 4-4h89q4 0 4 4v36q0 4-4 4h-89q-4 0-4-4z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="37.5" y="18.45" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(1746.278 224.347)">rpc</text><path d="M1615.667 853.542q0-4 4-4h371.888q4 0 4 4v188q0 4-4 4h-371.888q-4 0-4-4z" stroke="#323232" stroke-width="2" fill="#fff"/><g fill="none"><path d="M1615.667 893.042h379.888" stroke="#000" stroke-width="2"/><path d="M1615.667 882.042h379.888v21h-379.888z"/></g><path d="M1724.555 851.542h160v40h-160z" fill="none"/><text font-size="18" x="79" y="18.45" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(1724.555 860.292)">Service</text><path d="M1615.667 893.542h377.777v152h-377.777z" fill="none"/><g font-size="16" font-family="微软雅黑"><text y="16.4" transform="translate(1615.667 919.542)">- name string // 服务名</text><text y="36.4" transform="translate(1615.667 919.542)">- rcvr reflect.Value // 服务中函数的接收者</text><text y="56.4" transform="translate(1615.667 919.542)">- typ reflect.Type // 接收者类型</text><text y="76.4" transform="translate(1615.667 919.542)">- method map[string]*methodType // 已注册的函</text><text y="96.4" transform="translate(1615.667 919.542)">数集</text></g><path d="M1262.056 324.597c0-44 310-44 310 0s-310 44-310 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="144" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1272.056 313.347)">Register(rcvr interface{})</text><path d="M1160.778 131.097c0-44 411.278-44 411.278 0s-411.278 44-411.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="194.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1170.778 119.847)">RegisterName(name string, rcvr interface{})</text><path d="M1736.278 235.597h-82.111v89h-66.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#b)"/><path d="M1597.167 261.23h114v22.5h-114z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1654.167 261.23)">default name</text><path d="M1736.278 235.597h-82.111v-104.5h-66.875" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#c)"/><path d="M1597.667 179.715h113v22.5h-113z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1654.167 179.715)">specify name</text><path d="M744.139 324.597c0-44 411.278-44 411.278 0s-411.278 44-411.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="194.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(754.139 313.347)">DefaultServer.Register(rcvr interface{})</text><path d="M1262.056 324.597h-91.403" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#d)"/><path d="M1188.354 313.347h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1216.354 313.347)">invoke</text><path d="M538.347 133.597c0-44.092 522.709-44.092 522.709 0 0 44.093-522.709 44.093-522.709 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="250.354" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(548.347 122.347)">DefaultServer.RegisterName(name string, rcvr interface{})</text><path d="M1160.778 131.097h-49.861v2.5h-34.625" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#e)"/><path d="M1089.285 119.847h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1117.285 119.847)">invoke</text><path d="M424.139 451.417c0-47.76 596.875-47.76 596.875 0 0 47.759-596.875 47.759-596.875 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="287.438" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(434.139 440.167)">DefaultServer.register(rcvr interface{}, name string, useName bool)</text><path d="M949.778 357.597v27H722.576v15.764" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#f)"/><path d="M783.295 373.347h117v22.5h-117z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(841.795 373.347)">(rcvr, &quot;&quot;, false)</text><path d="M538.347 133.597h-30v252h214.23v14.764" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#g)"/><path d="M435.847 347.844h145v22.5h-145z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(508.347 347.844)">(rcvr, name, true)</text><path d="M300.278 415.597v35.82h108.625" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#h)"/><path d="M299.18 440.167h75v22.5h-75z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(336.68 440.167)">interface</text><path d="M2057 126.597c0-35.333 245.056-35.333 245.056 0 0 35.334-245.056 35.334-245.056 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="111.528" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2067 115.347)">HandleHTTP()</text><path d="M2057 458.597c0-44 411.278-44 411.278 0s-411.278 44-411.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="194.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2067 447.347)">ServeConn(conn io.ReadWriteCloser)</text><path d="M2057 349.097c0-35.333 245.056-35.333 245.056 0 0 35.334-245.056 35.334-245.056 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="111.528" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2067 337.847)">Accept(lis net.Listener)</text><path d="M1833.278 235.597h111.86v-109h96.626" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#i)"/><path d="M1908.139 177.465h74v22.5h-74z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1945.139 177.465)">via HTTP</text><path d="M1833.278 235.597h111.86v223h96.626" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#j)"/><path d="M1618.389 206.375h160v40h-160z" fill="none"/><text font-size="15" x="79" y="15.375" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(1618.389 217)">register</text><path d="M1789.389 206.375h160v40h-160z" fill="none"/><text font-size="15" x="79" y="15.375" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(1789.389 217)">handle</text><path d="M2393 349.097c0-38.185 277.611-38.185 277.611 0s-277.611 38.185-277.611 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="127.806" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2403 337.847)">DefaultServer.Accept(lis)</text><path d="M2302.056 349.097h75.708" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#k)"/><path d="M2330.91 337.847h18v22.5h-18z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2339.91 337.847)">lis</text><path d="M2402 126.597c0-41.333 526.458-41.333 526.458 0 0 41.334-526.458 41.334-526.458 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="15" x="252.229" y="15.375" font-family="微软雅黑" text-anchor="middle" transform="translate(2412 117.222)">DefaultServer.HandleHTTP(DefaultRPCPath, DefaultDebugPath)</text><path d="M2302.056 126.597h84.708" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#l)"/><path d="M2316.41 115.347h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2344.41 115.347)">invoke</text><path d="M3045 126.597c0-38.185 277.611-38.185 277.611 0s-277.611 38.185-277.611 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="127.806" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(3055 115.347)">http.Handle(rpcPath, server)</text><path d="M2928.458 126.597h101.306" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#m)"/><path d="M2951.111 115.347h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2979.111 115.347)">invoke</text><path d="M3440 126.597c0-38.185 306.347-38.185 306.347 0s-306.347 38.185-306.347 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="142.174" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(3450 115.347)">http.DefaultServerMux.Handle</text><path d="M3322.611 126.597h102.153" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#n)"/><path d="M3345.688 115.347h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(3373.688 115.347)">invoke</text><path d="M3163 349.097c0-36.11 354.903-36.11 354.903 0 0 36.111-354.903 36.111-354.903 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="166.451" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(3173 337.847)">go DefaultServer.ServeConn(conn)</text><path d="M2784 349.097c0-38.185 277.611-38.185 277.611 0s-277.611 38.185-277.611 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="127.806" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2794 337.847)">lis.Accept()</text><path d="M2670.611 349.097h98.153" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#o)"/><path d="M2691.688 337.847h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2719.688 337.847)">invoke</text><path d="M3061.611 349.097h86.153" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#p)"/><path d="M3083.688 337.847h42v22.5h-42z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(3104.688 337.847)">conn</text><path d="M2057 587.597c0-44 411.278-44 411.278 0s-411.278 44-411.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="194.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2067 576.347)">DefaultServer.ServeConn(conn)</text><path d="M2262.639 491.597v47.764" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#q)"/><path d="M2234.639 504.23h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2262.639 504.23)">invoke</text><path d="M2037.076 728.648c0-44.068 451.125-44.068 451.125 0 0 44.067-451.125 44.067-451.125 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="214.563" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2047.076 717.398)">DefaultServer.ServeCodec(*gobServerCodec)</text><path d="M2262.639 620.597v59.764" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#r)"/><path d="M2234.639 639.23h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2262.639 639.23)">invoke</text><path d="M2057 861.597c0-44 411.278-44 411.278 0s-411.278 44-411.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="194.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2067 850.347)">DefaultServer.readRequest(codec)</text><path d="M2262.639 761.698v51.662" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#s)"/><path d="M2227.639 776.28h70v22.5h-70z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2262.639 776.28)">Request</text><path d="M1952.767 1133.254c0-52.438 619.743-52.438 619.743 0 0 52.437-619.743 52.437-619.743 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="298.872" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1962.767 1122.004)">go service.call(server, sending, wg, mtype, req, argv, replyv, codec)</text><path d="M1805.611 1045.542v87.712h131.92" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#t)"/><path d="M1790.215 1122.004h75v22.5h-75z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1827.715 1122.004)">interface</text><path d="M2057 988.597c0-44 411.278-44 411.278 0s-411.278 44-411.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="194.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2067 977.347)">DefaultServer.readRequestHeader(codec)</text><path d="M2262.639 894.597v45.764" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#u)"/><path d="M2234.639 906.23h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2262.639 906.23)">invoke</text><path d="M2262.639 1021.597v57.092" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#v)"/><path d="M2233.139 1038.893h59v22.5h-59z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2262.639 1038.893)">handle</text><path d="M2669.604 818.542c0-44 411.278-44 411.278 0s-411.278 44-411.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="194.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2679.604 807.292)">DefaultServer.getRequest()</text><path d="M2655.361 919.253h439.764v44.789h-439.764z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="208.882" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2665.361 930.398)">dot := strings.LastIndex(req.ServiceMethod, &quot;.&quot;)</text><path d="M2875.243 851.542v52.476" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#w)"/><path d="M2860.743 866.53h29v22.5h-29z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2875.243 866.53)">req</text><path d="M2655.361 964.042h439.764v40.211h-439.764z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="208.882" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2665.361 972.898)">serviceName := req.ServiceMethod[:dot]</text><path d="M2655.361 1002.05h439.764v43.492h-439.764z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="208.882" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2665.361 1012.546)">methodName := req.ServiceMethod[dot+1:]</text><path d="M2669.604 1133.254c0-44 411.278-44 411.278 0s-411.278 44-411.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="194.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2679.604 1122.004)">DefaultServer.serviceMap.Load(serviceName)</text><path d="M2875.243 1045.542v39.476" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#x)"/><path d="M2669.604 1133.254h-81.857" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#y)"/><path d="M2599.675 1122.004h58v22.5h-58z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2628.675 1122.004)">service</text><path d="M2468.278 988.597h100.663V818.542h85.427" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#z)"/><path d="M2540.941 899.937h56v22.5h-56z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2568.941 899.937)">invoke</text><path d="M2179.528 153.097v61.5h147.236" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#A)"/><path d="M2177.396 203.347h90v22.5h-90z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2222.396 203.347)">then listen</text><path d="M2342 214.597c0-35.333 245.056-35.333 245.056 0 0 35.334-245.056 35.334-245.056 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="111.528" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2352 203.347)">net.Listen(&quot;tcp&quot;, port)</text><path d="M2670.611 214.597c0-35.333 245.056-35.333 245.056 0 0 35.334-245.056 35.334-245.056 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="111.528" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2680.611 203.347)">http.Serve(lis, nil)</text><path d="M2587.056 214.597h68.319" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#B)"/><path d="M2612.215 203.347h18v22.5h-18z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2621.215 203.347)">lis</text><path d="M3318 458.597c0-38.185 357.458-38.185 357.458 0s-357.458 38.185-357.458 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="167.729" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(3328 447.347)">net.ResolveTCPAddr(&quot;tcp&quot;, port)</text><path d="M2915.555 458.597c0-38.185 290.903-38.185 290.903 0s-290.903 38.185-290.903 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="134.452" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2925.555 447.347)">net.ListenTCP(&quot;tcp&quot;, tcpAddr)</text><path d="M3318 458.597h-96.305" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#C)"/><path d="M3233.847 447.347h72v22.5h-72z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(3269.847 447.347)">tcpAddr</text><path d="M2562 458.597c0-38.185 277.611-38.185 277.611 0s-277.611 38.185-277.611 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="127.806" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2572 447.347)">lis.Accept()</text><path d="M2915.555 458.597h-60.708" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#D)"/><path d="M2876.201 447.347h18v22.5h-18z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2885.201 447.347)">lis</text><path d="M2562 458.597h-78.486" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#E)"/><path d="M2501.757 447.347h42v22.5h-42z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2522.757 447.347)">conn</text><path d="M1993.076 1272.87c0-43.623 539.125-43.623 539.125 0s-539.125 43.623-539.125 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="258.563" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2003.076 1261.62)">function.Call([]reflect.Value{service.rcvr, argv, replyv})</text><path d="M2262.639 1172.582v52.335" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#F)"/><path d="M2150.639 1187.5h224v22.5h-224z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2262.639 1187.5)">invoke registered rpc func</text><path d="M1904.364 1409.37c0-56.29 716.55-56.29 716.55 0s-716.55 56.29-716.55 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="347.274" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1914.364 1398.12)">DefaultServer.sendResponse(sending, req, replyv.Interface(), codec, errmsg)</text><path d="M2262.639 1305.587v46.33" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#G)"/><path d="M2224.139 1317.502h77v22.5h-77z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(2262.639 1317.502)">response</text><path d="M437.139 585.986c0-41.852 575.278-41.852 575.278 0s-575.278 41.852-575.278 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="276.639" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(447.139 574.736)">DefaultServer.serviceMap.LoadOrStore(sname, service)</text><path d="M722.576 487.236v33.68h2.202v18.445" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#H)"/><path d="M652.076 503.15h141v22.5h-141z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(722.576 503.15)">register rpc func</text><path d="M1833.278 235.597h111.86v113.5h96.626" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#I)"/><path d="M1832.139 273.48h226v22.5h-226z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1945.139 273.48)">via TCP or custom connect</text><path d="M1725.778 103.097h102l16 16v45h-118v-61z" fill="#ffa"/><path d="M1827.778 103.097v16h16z" fill="#cdcd78"/><path d="M1725.778 103.097h102l16 16v45h-118v-61z" fill="none"/><text font-size="20" x="48" y="20.5" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(1735.778 121.097)">Server</text><path d="M1003.91 710.968h103l16 16v49h-119v-65z" fill="#ffa"/><path d="M1106.91 710.968v16h16z" fill="#cdcd78"/><path d="M1003.91 710.968h103l16 16v49h-119v-65z" fill="none"/><text font-size="18" x="48.5" y="18.45" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(1013.91 732.218)">Client</text><path d="M1054.493 806.19c0-10.815 17.833-10.815 17.833 0s-17.833 10.815-17.833 0m8.917 8.11v32.445m0 0l-22.292 16.223m22.292-16.223l22.291 16.223m-49.041-32.445h53.5" stroke="#323232" stroke-width="2" fill="#fff"/><path d="M1036.66 798.079h53.5v64.889h-53.5z" fill="none"/><text font-size="18" x="45.75" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1016.66 866.718)">client</text><path d="M670.5 951.19c0-45.482 317-45.482 317 0 0 45.481-317 45.481-317 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="147.5" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(680.5 939.94)">client := DialHTTP(&quot;tcp&quot;, address)</text><path d="M1156.142 951.19c0-45.482 317-45.482 317 0 0 45.481-317 45.481-317 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="147.5" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1166.142 939.94)">client := Dial(&quot;tcp&quot;, address)</text><path d="M1036.903 853.81c-86.927 0-156 21-196.09 53.647" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#J)"/><path d="M884.294 857.14h74v22.5h-74z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(921.294 857.14)">via HTTP</text><path d="M1089.91 854.745c93.287 0 159.993 32.064 210.93 55.88" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#K)"/><path d="M1098.256 862.504h226v22.5h-226z" fill="#fff"/><text font-size="18" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1211.256 862.504)">via TCP or custom connect</text><path d="M621.34 1090.972c0-56.524 415.32-56.524 415.32 0s-415.32 56.524-415.32 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="196.66" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(631.34 1079.722)">client.Call(&quot;Service.Method&quot;, args, &amp;reply)</text><path d="M1051.382 1088.694c0-53.487 526.52-53.487 526.52 0s-526.52 53.487-526.52 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="252.26" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1061.382 1077.444)">divCall := client.Go(&quot;Service.Method&quot;, args, &amp;reply, nil)</text><path d="M829 985.3v48.043" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#L)"/><path d="M829 985.3l470.534 61.31" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#M)"/><path d="M1314.642 985.3v48.043" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#N)"/><path d="M1314.642 985.3l-470.534 61.31" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#O)"/><path d="M693.5 992.079h160v40h-160z" fill="none"/><text font-size="18" x="79" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(693.5 1000.829)">synchronous</text><path d="M1301.5 992.079h160v40h-160z" fill="none"/><text font-size="18" x="79" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1301.5 1000.829)">asynchronous</text><path d="M1184.92 1212.412c0-32.444 259.445-32.444 259.445 0 0 32.445-259.445 32.445-259.445 0z" stroke="#323232" stroke-width="2" fill="#fff"/><text font-size="18" x="118.722" y="18.45" font-family="微软雅黑" text-anchor="middle" transform="translate(1194.92 1201.162)">&lt;-divCall.Done</text><path d="M1314.642 1128.81v44.033" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#P)"/><path d="M220.278 83.097h160v40h-160z" fill="none"/><text font-size="18" x="79" y="18.45" font-family="微软雅黑" font-weight="bold" text-anchor="middle" transform="translate(220.278 91.847)">Server</text><path d="M111.389 135.097h377.778v152H111.389z" fill="none"/><g font-size="16" font-family="微软雅黑"><text y="16.4" transform="translate(111.389 151.097)">- serviceMap sync.Map // 服务对象集合</text><text y="36.4" transform="translate(111.389 151.097)">- reqLock sync.Mutex // 请求锁用来保护</text><text y="56.4" transform="translate(111.389 151.097)">freeReq</text><text y="76.4" transform="translate(111.389 151.097)">- freeReq *Request // 请求链</text><text y="96.4" transform="translate(111.389 151.097)">- respLock sync.Mutex // 响应锁保护 freeResp</text><text y="116.4" transform="translate(111.389 151.097)">- freeResp *Response // 响应链</text></g></svg>