<!-- build time:Sat Nov 04 2017 14:15:09 GMT+0800 (CST) --><!DOCTYPE html><html lang="zh-Hans"><head><!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]--><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="google-site-verification" content="riwnp5QCq6dRKbhBa3d3aDZrfGLQVhMFN9d4fMGYuoU"><meta name="baidu-site-verification" content="ShWI3wwk8h"><meta name="author" content="鱼乐"><meta name="description" content="记录JS的变量类型、几种常见循环、几种数组遍历、浮点数问题"><meta name="keywords" content="javaScript"><meta property="og:type" content="article"><meta property="og:title" content="0423-JS笔记"><meta property="og:url" content="http://wangriyu.wang/2017/20170423JSNote.html"><meta property="og:site_name" content="Wangriyu’s Blog"><meta property="og:description" content="记录JS的变量类型、几种常见循环、几种数组遍历、浮点数问题"><meta property="og:image" content="http://yanhaijing.com/blog/75.png"><meta property="og:updated_time" content="2017-10-24T09:07:03.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="0423-JS笔记"><meta name="twitter:description" content="记录JS的变量类型、几种常见循环、几种数组遍历、浮点数问题"><meta name="twitter:image" content="http://yanhaijing.com/blog/75.png"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="alternate" href="/atom.xml" title="Wangriyu’s Blog" type="application/atom+xml"><link rel="shortcut icon" href="/favicon.ico"><link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet"><link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet"><link rel="stylesheet" href="/css/style.css"><link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"><title>0423-JS笔记 | Wangriyu’s Blog</title><script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script>var yiliaConfig={fancybox:!0,animate:!0,isHome:!1,isPost:!0,isArchive:!1,isTag:!1,isCategory:!1,fancybox_js:"//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",scrollreveal:"//cdn.bootcss.com/scrollReveal.js/3.3.6/scrollreveal.min.js",search:!0}</script><script>yiliaConfig.jquery_ui=[!1]</script><script>yiliaConfig.rootUrl="/"</script></head></html><body><div id="container"><div class="left-col"><div class="overlay"><img src="/img/yule.jpg" width="300px" height="330px"></div><div class="intrude-less"><header id="header" class="inner"><a href="/" class="profilepic"><img src="/img/avatar.jpg" class="animated zoomIn"></a><hgroup><h1 class="header-author"><a href="/">鱼乐</a></h1></hgroup><p class="header-subtitle">子非鱼，安知鱼之乐也！</p><form id="search-form"><input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false"> <i class="fa fa-times" onclick="resetSearch()"></i></form><div id="local-search-result"></div><p class="no-result">No results found <i class="fa fa-spinner fa-pulse"></i></p><div id="switch-btn" class="switch-btn"><div class="icon"><div class="icon-ctn"><div class="icon-wrap icon-house" data-idx="0"><div class="birdhouse"></div><div class="birdhouse_holes"></div></div><div class="icon-wrap icon-ribbon hide" data-idx="1"><div class="ribbon"></div></div><div class="icon-wrap icon-link hide" data-idx="2"><div class="loopback_l"></div><div class="loopback_r"></div></div><div class="icon-wrap icon-me hide" data-idx="3"><div class="user"></div><div class="shoulder"></div></div></div></div><div class="tips-box hide"><div class="tips-arrow"></div><ul class="tips-inner"><li>菜单</li><li>标签</li><li>友情链接</li><li>目标</li></ul></div></div><div id="switch-area" class="switch-area"><div class="switch-wrap"><section class="switch-part switch-part1"><nav class="header-menu"><ul><li><a href="/">主页</a></li><li><a href="/archives/">归档</a></li><li><a href="http://resume.github.io/?wangriyu">简历</a></li><li><a href="/tags/">标签云</a></li><li><a href="/about/">关于我</a></li></ul></nav><nav class="header-nav"><ul class="social"><a class="fa Email" href="mailto:wangriyu1997@gmail.com" title="Email"></a> <a class="fa GitHub" href="https://github.com/wangriyu" title="GitHub"></a> <a class="fa RSS" href="/atom.xml" title="RSS"></a> <a class="fa 网易云音乐" href="https://music.163.com/#/user/home?id=102244407" title="网易云音乐"></a></ul><ul class="social"><div style="position:absolute;top:95%;left:50%;margin-left:-30px"><p style="display:block"><a class="donateIcon" href="javascript:void(0)" onmouseout='var e=document.getElementById("donate");e.style.display="none"' onmouseenter='var e=document.getElementById("donate");e.style.display="block"'>赏</a></p></div></ul></nav></section><section class="switch-part switch-part2"><div class="widget tagcloud" id="js-tagcloud"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Yelee/">Yelee</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaScript/">javaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分享/">分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/应用/">应用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技巧/">技巧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/插件/">插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器本地存储/">浏览器本地存储</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深入理解计算机/">深入理解计算机</a></li></ul></div></section><section class="switch-part switch-part3"><div id="js-friends"><a class="main-nav-link switch-friends-link" href="https://github.com/yangchenglong11">YangChengLong</a> <a class="main-nav-link switch-friends-link" href="https://github.com/Jsharkc">LiuJiaChang</a> <a class="main-nav-link switch-friends-link" href="https://github.com/yusank">YusanKurban</a> <a class="main-nav-link switch-friends-link" href="https://github.com/sunanxiang">SunAnXiang</a> <a class="main-nav-link switch-friends-link" href="https://github.com/DoubleWoodH">LinHao</a> <a class="main-nav-link switch-friends-link" href="https://github.com/ShiChao1996">ShiChao</a> <a class="main-nav-link switch-friends-link" href="https://github.com/Txiaozhe">TangXiaoJi</a> <a class="main-nav-link switch-friends-link" href="https://github.com/LLLeon">JiaChenHui</a> <a class="main-nav-link switch-friends-link" href="https://github.com/TechCatsLab">TechCatsLab</a></div></section><section class="switch-part switch-part4"><div id="js-aboutme">不悲不喜，不卑不亢，努力成为一个更好的程序猿！</div></section></div></div></header><div id="donate"><img id="alipay" src="/img/alipay.jpg" width="250px" alt="鱼乐 Alipay"><div class="triangle"></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bubbly-bg@0.2.3/dist/bubbly-bg.js"></script><script>var userAgent = window.navigator.userAgent;
      bubbly({
        animate: true,
        blur: 1,
        bubbleFunc: () => `hsla(${Math.random() * 360}, 100%, 50%, ${Math.random() * 0.25})`,
        bubbles: !!userAgent.match(/AppleWebKit.*Mobile.*/) ? 20 : 88,
        canvas: document.querySelector("#background"),
        colorStart: "#FFC956",
        colorStop: "#FF2C9A",
        compose: "lighter",
        shadowColor: "#383838",
      });</script><div class="mid-col"><nav id="mobile-nav"><div class="overlay"><div class="slider-trigger"></div><h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">鱼乐</a></h1></div><div class="intrude-less"><header id="header" class="inner"><a href="/" class="profilepic"><img src="/img/avatar.jpg" class="animated zoomIn"></a><hgroup><h1 class="header-author"><a href="/" title="回到主页">鱼乐</a></h1></hgroup><p class="header-subtitle">子非鱼，安知鱼之乐也！</p><nav class="header-menu"><ul><li><a href="/">主页</a></li><li><a href="/archives/">归档</a></li><li><a href="http://resume.github.io/?wangriyu">简历</a></li><li><a href="/tags/">标签云</a></li><li><a href="/about/">关于我</a></li><div class="clearfix"></div></ul></nav><nav class="header-nav"><ul class="social"><a class="fa Email" target="_blank" href="mailto:wangriyu1997@gmail.com" title="Email"></a> <a class="fa GitHub" target="_blank" href="https://github.com/wangriyu" title="GitHub"></a> <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a> <a class="fa 网易云音乐" target="_blank" href="https://music.163.com/#/user/home?id=102244407" title="网易云音乐"></a></ul></nav></header></div><link class="menu-list" tags="标签" friends="友情链接" about="目标"></nav><div class="body-wrap"><article id="post-20170423JSNote" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2017/20170423JSNote.html" class="article-date"><time datetime="2017-04-22T16:00:00.000Z" itemprop="datePublished">2017-04-23</time></a></div><div class="article-inner"><input type="hidden" class="isFancy"><header class="article-header"><h1 class="article-title" itemprop="name">0423-JS笔记</h1></header><div class="article-info article-info-post"><div class="article-category tagcloud"><a class="article-category-link" href="/categories/笔记/">笔记</a></div><div class="article-tag tagcloud" style="display:flex;flex-wrap:wrap"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaScript/">javaScript</a></li></ul><span class="post-count">总字数2,238</span> <span class="post-count">预计阅读10分钟</span></div><div class="clearfix"></div></div><div class="article-entry" itemprop="articleBody"><script src="//cdn.bootcss.com/aplayer/1.6.0/APlayer.min.js"></script><script src="//api.i-meto.com/music/player.js"></script><div class="aplayer" data-id="411988621" data-server="netease" data-type="song" data-autoplay="true"></div><div style="height:16px"></div><script>"none"===$(".left-col").css("display")&&$(".aplayer").remove()</script><h2 id="一、var、let、const区别与联系"><a href="#一、var、let、const区别与联系" class="headerlink" title="一、var、let、const区别与联系"></a>一、var、let、const区别与联系</h2><h3 id="JavaScript是弱类型语言，var可以定义各种数据类型和对象"><a href="#JavaScript是弱类型语言，var可以定义各种数据类型和对象" class="headerlink" title="JavaScript是弱类型语言，var可以定义各种数据类型和对象"></a>JavaScript是弱类型语言，var可以定义各种数据类型和对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> x = <span class="string">"abc"</span>;</div><div class="line"><span class="keyword">var</span> x = <span class="literal">true</span>;</div><div class="line"><span class="keyword">var</span> x = &#123; <span class="attr">name0</span> : value0,<span class="attr">name1</span> : value1 &#125;;</div><div class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"abc"</span>,<span class="number">123</span>,<span class="literal">true</span>); <span class="comment">// var x = ["abc",123,true]</span></div><div class="line"><span class="keyword">var</span> y; <span class="comment">//undefined</span></div><div class="line"><span class="keyword">var</span> y = <span class="literal">null</span>; <span class="comment">//null</span></div></pre></td></tr></table></figure><h3 id="var可以重复声明并赋值同一变量，后者覆盖前者-但let声明的变量在同一块级作用域中不能重复"><a href="#var可以重复声明并赋值同一变量，后者覆盖前者-但let声明的变量在同一块级作用域中不能重复" class="headerlink" title="var可以重复声明并赋值同一变量，后者覆盖前者;但let声明的变量在同一块级作用域中不能重复"></a>var可以重复声明并赋值同一变量，后者覆盖前者;但let声明的变量在同一块级作用域中不能重复</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">0</span>; <span class="comment">//var作用域是全局的或者函数级的</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> x = <span class="number">1</span>; <span class="comment">//let作用域是块级的&#123;&#125;内</span></div><div class="line">  <span class="built_in">console</span>.log(x);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(x); <span class="comment">// 0</span></div><div class="line">foo() <span class="comment">// 1</span></div></pre></td></tr></table></figure><h3 id="循环体中，第一个例子循环本身及三次-timeout-回调均共享唯一的变量-i-。当循环结束执行时，i-的值变为3，当第一个-timeout-执行时，调用的-i-值为-3-；第二个人例子每次循环let声明的i均不一样，输出自然不一样。而的第二个才是我们想要的结果，所以循环体条件中很多情况用let更好"><a href="#循环体中，第一个例子循环本身及三次-timeout-回调均共享唯一的变量-i-。当循环结束执行时，i-的值变为3，当第一个-timeout-执行时，调用的-i-值为-3-；第二个人例子每次循环let声明的i均不一样，输出自然不一样。而的第二个才是我们想要的结果，所以循环体条件中很多情况用let更好" class="headerlink" title="循环体中，第一个例子循环本身及三次 timeout 回调均共享唯一的变量 i 。当循环结束执行时，i 的值变为3，当第一个 timeout 执行时，调用的 i 值为 3 ；第二个人例子每次循环let声明的i均不一样，输出自然不一样。而的第二个才是我们想要的结果，所以循环体条件中很多情况用let更好"></a>循环体中，第一个例子循环本身及三次 timeout 回调均共享唯一的变量 i 。当循环结束执行时，i 的值变为3，当第一个 timeout 执行时，调用的 i 值为 3 ；第二个人例子每次循环let声明的i均不一样，输出自然不一样。而的第二个才是我们想要的结果，所以循环体条件中很多情况用let更好</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(i)</div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">&#125; <span class="comment">//输出3个3</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(i)</div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">&#125; <span class="comment">//输出0，1，2</span></div></pre></td></tr></table></figure><h3 id="let是更完美的var"><a href="#let是更完美的var" class="headerlink" title="let是更完美的var"></a>let是更完美的var</h3><ul><li>let声明的变量拥有块级作用域</li><li>let声明的全局变量不是全局对象的属性</li><li>形如for (let i…)的循环在每次迭代时都为i创建新的绑定</li><li>用let重定义变量会抛出一个语法错误（SyntaxError）</li></ul><h3 id="const是ES6引入的新的声明类关键词，用来定义常量，不可改变常量的值"><a href="#const是ES6引入的新的声明类关键词，用来定义常量，不可改变常量的值" class="headerlink" title="const是ES6引入的新的声明类关键词，用来定义常量，不可改变常量的值"></a>const是ES6引入的新的声明类关键词，用来定义常量，不可改变常量的值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> MAX_CAT_SIZE_KG = <span class="number">3000</span>; <span class="comment">// 正确</span></div><div class="line"></div><div class="line">MAX_CAT_SIZE_KG = <span class="number">5000</span>; <span class="comment">// 语法错误（SyntaxError）</span></div><div class="line">MAX_CAT_SIZE_KG++; <span class="comment">// 仍然会导致语法错误</span></div></pre></td></tr></table></figure><h2 id="二、循环"><a href="#二、循环" class="headerlink" title="二、循环"></a>二、循环</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// for 循环</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</div><div class="line">   <span class="built_in">console</span>.log(i);</div><div class="line">   <span class="comment">// more statements</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//while循环</span></div><div class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="keyword">while</span> (n &lt; <span class="number">3</span>) &#123;</div><div class="line">  n++;</div><div class="line">  x += n;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//do-while循环</span></div></pre></td></tr></table></figure><h3 id="for…in-语句以任意顺序遍历一个对象的可枚举属性。对于每个不同的属性，语句都会被执行。"><a href="#for…in-语句以任意顺序遍历一个对象的可枚举属性。对于每个不同的属性，语句都会被执行。" class="headerlink" title="for…in 语句以任意顺序遍历一个对象的可枚举属性。对于每个不同的属性，语句都会被执行。"></a>for…in 语句以任意顺序遍历一个对象的可枚举属性。对于每个不同的属性，语句都会被执行。</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">3</span>&#125;;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> obj) &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"obj."</span> + prop + <span class="string">" = "</span> + obj[prop]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//obj.a = 1</span></div><div class="line"><span class="comment">//obj.b = 2</span></div><div class="line"><span class="comment">//obj.c = 3</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">3</span>&#125;;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> obj) &#123;</div><div class="line">  <span class="built_in">console</span>.log(i);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//a</span></div><div class="line"><span class="comment">//b</span></div><div class="line"><span class="comment">//c</span></div></pre></td></tr></table></figure><h3 id="for…of语句在可迭代对象-包括-Array-Map-Set-String-TypedArray，arguments-对象等等-上创建一个迭代循环，对每个不同属性的属性值-调用一个自定义的有执行语句的迭代挂钩"><a href="#for…of语句在可迭代对象-包括-Array-Map-Set-String-TypedArray，arguments-对象等等-上创建一个迭代循环，对每个不同属性的属性值-调用一个自定义的有执行语句的迭代挂钩" class="headerlink" title="for…of语句在可迭代对象(包括 Array, Map, Set, String, TypedArray，arguments 对象等等)上创建一个迭代循环，对每个不同属性的属性值,调用一个自定义的有执行语句的迭代挂钩."></a>for…of语句在可迭代对象(包括 Array, Map, Set, String, TypedArray，arguments 对象等等)上创建一个迭代循环，对每个不同属性的属性值,调用一个自定义的有执行语句的迭代挂钩.</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 遍历Array:</span></div><div class="line"><span class="keyword">let</span> iterable = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 10</span></div><div class="line"><span class="comment">// 20</span></div><div class="line"><span class="comment">// 30</span></div><div class="line"></div><div class="line"><span class="comment">// 遍历 String:</span></div><div class="line"><span class="keyword">let</span> iterable = <span class="string">"boo"</span>;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// "b"</span></div><div class="line"><span class="comment">// "o"</span></div><div class="line"><span class="comment">// "o"</span></div><div class="line"></div><div class="line"><span class="comment">// 遍历 TypedArray:</span></div><div class="line"><span class="keyword">let</span> iterable = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>([<span class="number">0x00</span>, <span class="number">0xff</span>]);</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 0</span></div><div class="line"><span class="comment">// 255</span></div><div class="line"></div><div class="line"><span class="comment">// 遍历Map:</span></div><div class="line"><span class="comment">// Map对象就是简单的键/值映射。其中键和值可以是任意值(对象或者原始值)，键值不能重复</span></div><div class="line"><span class="keyword">let</span> iterable = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">"a"</span>, <span class="number">1</span>], [<span class="string">"b"</span>, <span class="number">2</span>], [<span class="string">"c"</span>, <span class="number">3</span>]]);</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> entry <span class="keyword">of</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(entry);</div><div class="line">&#125;</div><div class="line"><span class="comment">// [a, 1]</span></div><div class="line"><span class="comment">// [b, 2]</span></div><div class="line"><span class="comment">// [c, 3]</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 3</span></div><div class="line"></div><div class="line"><span class="comment">// 遍历 Set:</span></div><div class="line"><span class="comment">// 集合（Set）对象允许你存储任意类型的唯一值（不能重复），无论它是原始值或者是对象引用</span></div><div class="line"><span class="keyword">let</span> iterable = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>]);</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 3</span></div><div class="line"></div><div class="line"><span class="comment">// 遍历DOM集合...</span></div><div class="line"><span class="comment">// 遍历生成器...</span></div><div class="line"></div><div class="line"><span class="comment">// 遍历另外的可遍历对象:</span></div><div class="line"><span class="comment">// 您也可以遍历一个已经明确的可遍历（可迭代）协议。</span></div><div class="line"><span class="comment">// ES6语法中Symbol 是一种特殊的、不可变的数据类型，可以作为对象属性的标识符使用。Symbol 对象是一个 symbol primitive data type 的隐式对象包装器。</span></div><div class="line"><span class="keyword">var</span> iterable = &#123;</div><div class="line">  [<span class="built_in">Symbol</span>.iterator]() &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="attr">i</span>: <span class="number">0</span>,</div><div class="line">      next() &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.i &lt; <span class="number">3</span>) &#123;</div><div class="line">          <span class="keyword">return</span> &#123; <span class="attr">value</span>: <span class="keyword">this</span>.i++, <span class="attr">done</span>: <span class="literal">false</span> &#125;;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> &#123; <span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span> &#125;;</div><div class="line">      &#125;</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> value <span class="keyword">of</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 0</span></div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 2</span></div></pre></td></tr></table></figure><h3 id="for…of与for…in的区别"><a href="#for…of与for…in的区别" class="headerlink" title="for…of与for…in的区别"></a>for…of与for…in的区别</h3><ul><li>for…in循环会遍历一个object所有的可枚举属性。</li><li>for…of语法是为各种collection对象专门定制的，并不适用于所有的object.它会以这种方式迭代出任何拥有[Symbol.iterator] 属性的collection对象的每个元素。</li></ul><p>下面的例子演示了for…of 循环和 for…in 循环的区别。for…in 遍历（当前对象及其原型上的）每一个属性名称,而 for…of遍历（当前对象上的）每一个属性值:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.prototype.objCustom = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;; </div><div class="line"><span class="built_in">Array</span>.prototype.arrCustom = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</div><div class="line"></div><div class="line"><span class="keyword">let</span> iterable = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>];</div><div class="line">iterable.foo = <span class="string">"hello"</span>;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(i); <span class="comment">// logs 0, 1, 2, "foo", "arrCustom", "objCustom"</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> iterable) &#123;</div><div class="line">  <span class="built_in">console</span>.log(i); <span class="comment">// logs 3, 5, 7</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="三、数组"><a href="#三、数组" class="headerlink" title="三、数组"></a>三、数组</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="external">Array对象-MDN</a></p><h3 id="遍历数组："><a href="#遍历数组：" class="headerlink" title="遍历数组："></a>遍历数组：</h3><p><strong>普通方法遍历</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// for循环</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; myArray.length; index++) &#123;</div><div class="line">  <span class="built_in">console</span>.log(myArray[index]);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// for-of循环</span></div><div class="line"><span class="comment">// 与forEach()不同的是，它可以正确响应break、continue和return语句</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> value <span class="keyword">of</span> myArray) &#123;</div><div class="line">  <span class="built_in">console</span>.log(value);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><strong>forEach遍历</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">对数组的遍历，参数是一个回调函数</div><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">x, i</span>) </span>&#123; <span class="built_in">console</span>.log(i+<span class="string">'.'</span>+x) &#125;) <span class="comment">//x：数组中遍历到的每一个元素，i：相对应的下标</span></div><div class="line"> </div><div class="line"><span class="comment">// 0.a</span></div><div class="line"><span class="comment">// 1.b</span></div><div class="line"><span class="comment">// 2.c</span></div></pre></td></tr></table></figure><p><strong>map遍历</strong></p><p>对数组的遍历，参数是一个回调函数，与forEach不同的是，map函数返回一个数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>].map(<span class="function"><span class="keyword">function</span> (<span class="params">x, i</span>) </span>&#123; <span class="keyword">return</span> i+<span class="string">'.'</span>+x &#125;) <span class="comment">//x：数组中遍历到的每一个元素，i：相对应的下标</span></div><div class="line"> </div><div class="line"><span class="comment">// [ '0.a', '1.b', '2.c' ]</span></div></pre></td></tr></table></figure><p><strong>every遍历</strong></p><p>检查数组里的每一个元素的类型，参数是一个回调函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>].every(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">typeof</span> x === <span class="string">'string'</span> &#125;) <span class="comment">//x：数组中遍历到的每一个元素</span></div><div class="line"><span class="comment">// true</span></div><div class="line"></div><div class="line">[<span class="string">'a'</span>,<span class="number">123</span>].every(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">typeof</span> x === <span class="string">'string'</span> &#125;)</div><div class="line"><span class="comment">// false</span></div></pre></td></tr></table></figure><h2 id="四、浮点型"><a href="#四、浮点型" class="headerlink" title="四、浮点型"></a>四、浮点型</h2><p>IEEE 754<br>JavaScript中的浮点数采用IEEE-754格式的规定。更具体的说是一个双精度格式，这意味着每个浮点数占64位。虽然它不是二进制表示浮点数的唯一途径，但它是目前最广泛使用的格式。该格式用64位二进制表示像下面这样：<br><img src="http://yanhaijing.com/blog/75.png" alt="image"><br>你可能注意到机器表示的方法和约定俗成的书面表示一点不同。在64位中，1位用于标志位——用来表示一个数是正数还是负数。11位用于指数–这允许指数最大到1024。剩下的52位代表的尾数。如果你曾经好奇为什么JavaScript中的某些东西如+0 和 -0，标志位说明一切——JavaScript中的所有数字都有符号位。Infinity和NaN也被编码进浮点数——2047作为一个特殊的指数。如果尾数是0，它是一个正无穷或负无限。如果不是，那么它是NaN。</p><p><a href="https://www.cnblogs.com/snandy/p/4943138.html" target="_blank" rel="external">JS数字精度丢失的一些典型问题</a></p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案:"></a>解决方案:</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * floatTool 包含加减乘除四个方法，能确保浮点数运算不丢失精度</div><div class="line"> *</div><div class="line"> * 我们知道计算机编程语言里浮点数计算会存在精度丢失问题（或称舍入误差），其根本原因是二进制和实现位数限制有些数无法有限表示</div><div class="line"> * 以下是十进制小数对应的二进制表示</div><div class="line"> *      0.1 &gt;&gt; 0.0001 1001 1001 1001…（1001无限循环）</div><div class="line"> *      0.2 &gt;&gt; 0.0011 0011 0011 0011…（0011无限循环）</div><div class="line"> * 计算机里每种数据类型的存储是一个有限宽度，比如 JavaScript 使用 64 位存储数字类型，因此超出的会舍去。舍去的部分就是精度丢失的部分。</div><div class="line"> *</div><div class="line"> * ** method **</div><div class="line"> *  add / subtract / multiply /divide</div><div class="line"> *</div><div class="line"> * ** explame **</div><div class="line"> *  0.1 + 0.2 == 0.30000000000000004 （多了 0.00000000000004）</div><div class="line"> *  0.2 + 0.4 == 0.6000000000000001  （多了 0.0000000000001）</div><div class="line"> *  19.9 * 100 == 1989.9999999999998 （少了 0.0000000000002）</div><div class="line"> *</div><div class="line"> * floatObj.add(0.1, 0.2) &gt;&gt; 0.3</div><div class="line"> * floatObj.multiply(19.9, 100) &gt;&gt; 1990</div><div class="line"> *</div><div class="line"> */</div><div class="line"><span class="keyword">var</span> floatTool = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    </div><div class="line">    <span class="comment">/*</span></div><div class="line">     * 判断obj是否为一个整数</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">isInteger</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.floor(obj) === obj</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/*</span></div><div class="line">     * 将一个浮点数转成整数，返回整数和倍数。如 3.14 &gt;&gt; 314，倍数是 100</div><div class="line">     * @param floatNum &#123;number&#125; 小数</div><div class="line">     * @return &#123;object&#125;</div><div class="line">     *   &#123;times:100, num: 314&#125;</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">toInteger</span>(<span class="params">floatNum</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> ret = &#123;<span class="attr">times</span>: <span class="number">1</span>, <span class="attr">num</span>: <span class="number">0</span>&#125;</div><div class="line">        <span class="keyword">if</span> (isInteger(floatNum)) &#123;</div><div class="line">            ret.num = floatNum</div><div class="line">            <span class="keyword">return</span> ret</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> strfi  = floatNum + <span class="string">''</span></div><div class="line">        <span class="keyword">var</span> dotPos = strfi.indexOf(<span class="string">'.'</span>)</div><div class="line">        <span class="keyword">var</span> len    = strfi.substr(dotPos+<span class="number">1</span>).length</div><div class="line">        <span class="keyword">var</span> times  = <span class="built_in">Math</span>.pow(<span class="number">10</span>, len)</div><div class="line">        <span class="keyword">var</span> intNum = <span class="built_in">parseInt</span>(floatNum * times + <span class="number">0.5</span>, <span class="number">10</span>)</div><div class="line">        ret.times  = times</div><div class="line">        ret.num    = intNum</div><div class="line">        <span class="keyword">return</span> ret</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/*</span></div><div class="line">     * 核心方法，实现加减乘除运算，确保不丢失精度</div><div class="line">     * 思路：把小数放大为整数（乘），进行算术运算，再缩小为小数（除）</div><div class="line">     *</div><div class="line">     * @param a &#123;number&#125; 运算数1</div><div class="line">     * @param b &#123;number&#125; 运算数2</div><div class="line">     * @param digits &#123;number&#125; 精度，保留的小数点数，比如 2, 即保留为两位小数</div><div class="line">     * @param op &#123;string&#125; 运算类型，有加减乘除（add/subtract/multiply/divide）</div><div class="line">     *</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">operation</span>(<span class="params">a, b, op</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> o1 = toInteger(a)</div><div class="line">        <span class="keyword">var</span> o2 = toInteger(b)</div><div class="line">        <span class="keyword">var</span> n1 = o1.num</div><div class="line">        <span class="keyword">var</span> n2 = o2.num</div><div class="line">        <span class="keyword">var</span> t1 = o1.times</div><div class="line">        <span class="keyword">var</span> t2 = o2.times</div><div class="line">        <span class="keyword">var</span> max = t1 &gt; t2 ? t1 : t2</div><div class="line">        <span class="keyword">var</span> result = <span class="literal">null</span></div><div class="line">        <span class="keyword">switch</span> (op) &#123;</div><div class="line">            <span class="keyword">case</span> <span class="string">'add'</span>:</div><div class="line">                <span class="keyword">if</span> (t1 === t2) &#123; <span class="comment">// 两个小数位数相同</span></div><div class="line">                    result = n1 + n2</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (t1 &gt; t2) &#123; <span class="comment">// o1 小数位 大于 o2</span></div><div class="line">                    result = n1 + n2 * (t1 / t2)</div><div class="line">                &#125; <span class="keyword">else</span> &#123; <span class="comment">// o1 小数位 小于 o2</span></div><div class="line">                    result = n1 * (t2 / t1) + n2</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> result / max</div><div class="line">            <span class="keyword">case</span> <span class="string">'subtract'</span>:</div><div class="line">                <span class="keyword">if</span> (t1 === t2) &#123;</div><div class="line">                    result = n1 - n2</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (t1 &gt; t2) &#123;</div><div class="line">                    result = n1 - n2 * (t1 / t2)</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    result = n1 * (t2 / t1) - n2</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> result / max</div><div class="line">            <span class="keyword">case</span> <span class="string">'multiply'</span>:</div><div class="line">                result = (n1 * n2) / (t1 * t2)</div><div class="line">                <span class="keyword">return</span> result</div><div class="line">            <span class="keyword">case</span> <span class="string">'divide'</span>:</div><div class="line">                <span class="keyword">return</span> result = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="keyword">var</span> r1 = n1 / n2</div><div class="line">                    <span class="keyword">var</span> r2 = t2 / t1</div><div class="line">                    <span class="keyword">return</span> operation(r1, r2, <span class="string">'multiply'</span>)</div><div class="line">                &#125;()</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 加减乘除的四个接口</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> operation(a, b, <span class="string">'add'</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">subtract</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> operation(a, b, <span class="string">'subtract'</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> operation(a, b, <span class="string">'multiply'</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">divide</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> operation(a, b, <span class="string">'divide'</span>)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// exports</span></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">add</span>: add,</div><div class="line">        <span class="attr">subtract</span>: subtract,</div><div class="line">        <span class="attr">multiply</span>: multiply,</div><div class="line">        <span class="attr">divide</span>: divide</div><div class="line">    &#125;</div><div class="line">&#125;();</div></pre></td></tr></table></figure></div></div><div class="copyright"><p><span>本文标题:</span><a href="/2017/20170423JSNote.html">0423-JS笔记</a></p><p><span>文章作者:</span><a href="/" title="回到主页">鱼乐</a></p><p><span>发布时间:</span>2017-04-23, 00:00:00</p><p><span>最后更新:</span>2017-10-24, 17:07:03</p><p><span>原始链接:</span><a class="post-url" href="/2017/20170423JSNote.html" title="0423-JS笔记">http://wangriyu.wang/2017/20170423JSNote.html</a> <span class="copy-path" data-clipboard-text="原文: http://wangriyu.wang/2017/20170423JSNote.html　　作者: 鱼乐" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span><script>var clipboard=new Clipboard(".copy-path")</script></p><p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target="_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。</p></div><nav id="article-nav"><div id="article-nav-newer" class="article-nav-title"><a href="/2017/20170507JSNote.html">0507-JS笔记</a></div></nav></article><div id="toc" class="toc-article"><strong class="toc-title">文章目录</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、var、let、const区别与联系"><span class="toc-number">1.</span> <span class="toc-text">一、var、let、const区别与联系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JavaScript是弱类型语言，var可以定义各种数据类型和对象"><span class="toc-number">1.1.</span> <span class="toc-text">JavaScript是弱类型语言，var可以定义各种数据类型和对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var可以重复声明并赋值同一变量，后者覆盖前者-但let声明的变量在同一块级作用域中不能重复"><span class="toc-number">1.2.</span> <span class="toc-text">var可以重复声明并赋值同一变量，后者覆盖前者;但let声明的变量在同一块级作用域中不能重复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#循环体中，第一个例子循环本身及三次-timeout-回调均共享唯一的变量-i-。当循环结束执行时，i-的值变为3，当第一个-timeout-执行时，调用的-i-值为-3-；第二个人例子每次循环let声明的i均不一样，输出自然不一样。而的第二个才是我们想要的结果，所以循环体条件中很多情况用let更好"><span class="toc-number">1.3.</span> <span class="toc-text">循环体中，第一个例子循环本身及三次 timeout 回调均共享唯一的变量 i 。当循环结束执行时，i 的值变为3，当第一个 timeout 执行时，调用的 i 值为 3 ；第二个人例子每次循环let声明的i均不一样，输出自然不一样。而的第二个才是我们想要的结果，所以循环体条件中很多情况用let更好</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#let是更完美的var"><span class="toc-number">1.4.</span> <span class="toc-text">let是更完美的var</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const是ES6引入的新的声明类关键词，用来定义常量，不可改变常量的值"><span class="toc-number">1.5.</span> <span class="toc-text">const是ES6引入的新的声明类关键词，用来定义常量，不可改变常量的值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、循环"><span class="toc-number">2.</span> <span class="toc-text">二、循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for…in-语句以任意顺序遍历一个对象的可枚举属性。对于每个不同的属性，语句都会被执行。"><span class="toc-number">2.1.</span> <span class="toc-text">for…in 语句以任意顺序遍历一个对象的可枚举属性。对于每个不同的属性，语句都会被执行。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for…of语句在可迭代对象-包括-Array-Map-Set-String-TypedArray，arguments-对象等等-上创建一个迭代循环，对每个不同属性的属性值-调用一个自定义的有执行语句的迭代挂钩"><span class="toc-number">2.2.</span> <span class="toc-text">for…of语句在可迭代对象(包括 Array, Map, Set, String, TypedArray，arguments 对象等等)上创建一个迭代循环，对每个不同属性的属性值,调用一个自定义的有执行语句的迭代挂钩.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for…of与for…in的区别"><span class="toc-number">2.3.</span> <span class="toc-text">for…of与for…in的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、数组"><span class="toc-number">3.</span> <span class="toc-text">三、数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历数组："><span class="toc-number">3.1.</span> <span class="toc-text">遍历数组：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、浮点型"><span class="toc-number">4.</span> <span class="toc-text">四、浮点型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#解决方案"><span class="toc-number">4.1.</span> <span class="toc-text">解决方案:</span></a></li></ol></li></ol></div><style>.left-col .switch-area,.left-col .switch-btn{display:none}.toc-level-3 i,.toc-level-3 ol{display:none!important}</style><input type="button" id="tocButton" value="隐藏目录" title="点击按钮隐藏或者显示文章目录"><script>yiliaConfig.toc=["隐藏目录","显示目录",!0]</script><div class="share"><div class="bdsharebuttonbox"><a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a> <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a> <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a> <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a> <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a> <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a> <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></a></div><script>with(window._bd_share_config={common:{bdSnsKey:{},bdText:"0423-JS笔记　| Wangriyu’s Blog　",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"0",bdSize:"24"},share:{}},document)(0)[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date/36e5)]</script></div><section id="comments"><style>aside.comment-bar{margin:auto 30px}</style><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="http://wangriyu.wang/2017/20170423JSNote.html",this.page.identifier="2017/20170423JSNote.html"},loadComment=function(){var t=document,e=t.createElement("script");e.src="//wangriyu.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}</script><aside class="comment-bar"><a href="javascript:void(0);"><i class="fa fa-commenting-o animated infinite pulse"></i> <i class="fa fa-spinner fa-pulse"></i></a></aside><script>var $commentBar=$("#comments aside.comment-bar"),load$hide=function(){$commentBar.find("a > i").toggle(),loadComment(),$commentBar.fadeOut(800)};$commentBar.click(function(){load$hide()}),$commentBar.children("a").hover(function(){load$hide()}),"#comments"===window.location.hash&&load$hide()</script></section><div class="scroll" id="post-nav-button"><a href="/2017/20170507JSNote.html" title="上一篇: 0507-JS笔记"><i class="fa fa-angle-left"></i> </a><a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a> <a href="/" title="回到主页"><i class="fa fa-home"></i></a></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/MacSkills.html">Mac快速入门操作指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/ShareArtifact.html">分享自用的一些软件、插件、网站和应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/Hexo.html">使用Hexo主题Yelee</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/20170815Storage.html">浏览器本地存储</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/SystemIO.html">系统I/O</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/20170611JSNote.html">0611-JS笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/20170507JSNote.html">0507-JS笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/20170423JSNote.html">0423-JS笔记</a></li></ul><script></script></div><footer id="footer"><div class="outer"><div id="footer-info"><div class="footer-left"><i class="fa fa-copyright"></i> 2017 鱼乐</div><div class="footer-right"><a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a> Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i></div></div><div class="visit"><span id="busuanzi_container_site_pv" style="display:none"><span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span> </span></span><span>| </span><span id="busuanzi_container_page_pv" style="display:none"><span id="page-visit" title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span></span></span></div></div></footer></div><script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script><script type="text/javascript">!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-106179639-1","auto"),ga("send","pageview")</script><div class="scroll" id="scroll"><a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a> <a href="#comments" onclick="load$hide()" title="查看评论"><i class="fa fa-comments-o"></i></a> <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a></div><script>var oOpenInNew={post:".copyright a[href]",friends:"#js-friends a",socail:".social a"};for(var x in oOpenInNew)$(oOpenInNew[x]).attr("target","_blank")</script><script>var originTitle=document.title,titleTime;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="(つェ⊂)"+originTitle,clearTimeout(titleTime)):(document.title="(*´∇｀*)~ "+originTitle,titleTime=setTimeout(function(){document.title=originTitle},2e3))})</script><script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><script type="text/javascript" src="/live2d/script.js"></script><canvas id="live2dcanvas" width="150" height="300" class="live2d"></canvas><style>#live2dcanvas{position:fixed;right:0;z-index:999;pointer-events:none;bottom:-20px}</style><script>loadlive2d("live2dcanvas","/live2d/assets/koharu/koharu.model.json",.5)</script></div><script>"none"===$(".left-col").css("display")&&(document.getElementById("live2dcanvas").style.height="25vh")</script></body><!-- rebuild by neat -->